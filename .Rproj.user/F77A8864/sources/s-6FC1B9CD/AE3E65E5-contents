---
title: "Part 1: Stan in R"
author: "Lauren kennedy"
format: revealjs
editor: visual
---

## What is Stan?

## Bayesian inference in R using Stan

-   Multiple packages in R that use Stan.
-   These include:
    -   rstanarm
    -   brms
    -   cmdstanr
    -   rstan
    -   plus many others that run bespoke models or use aspects of the above!

## How do I choose which to use?

First aspect: packages that take a formula, data and other input, and formulate in a way to run Stan.

## rstanarm:

-   Precompiled models (lower barrier to entry).
-   Limited set of models
-   Limited flexibility in priors, but priors designed to be generally acceptable
-   Good for getting started, teaching etc.
-   wraps rstan

## brms

-   Writes Stan code for you
-   Very very broad set of models
-   Wide range of priors, can also output Stan code for basic models and modify
-   Good for research and teaching (my tool of choice!)
-   Lower probability of errors in Stan code for common models
-   Can wrap either rstan and cmdstanr

## How do I choose which to use?

Second aspect: choosing how to interact with Stan from R

## rstan

-   In-memory interface to Stan (calls C++ code from R)
-   Slower development (currently Stan 2.26)
-   GPL-3 license
-   Allows you to distribute R packages with pre-compied Stan programs on Cran
-   Some additional functionality

## cmdstanr

-   Calls CmdStan from R, which then compiles, run algorithms, writes results to files.
-   Access to most recent versions of Stan (much faster now!)
-   Fewer installation issues
-   Potentially lower chance of crashing R
-   Potentially lower memory overhead
-   BSD-3 license (more permissive)

## Installation:

-   Install cmdstanR

-   Install CmdStan through this package. There is a good instruction page in the [installation vignette](https://mc-stan.org/cmdstanr/articles/cmdstanr.html)

-   Other useful packages in the Stan family include posterior, bayesplot and shinystan


